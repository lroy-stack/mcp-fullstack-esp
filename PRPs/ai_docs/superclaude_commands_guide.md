# Gu√≠a Completa de Comandos SuperClaude para Servidor MCP Full Stack

## üéØ **Prop√≥sito**

Gu√≠a definitiva para usar el sistema SuperClaude de manera estructurada y eficiente en el desarrollo del **Servidor MCP Full Stack Developer**, aprovechando todas las personas, flags y MCPs disponibles.

## üìã **Comandos Disponibles**

### **Comandos Locales (.claude/commands/)**

#### **`/crear-mcp-prp`** - Crear PRP Integral
```bash
# Sintaxis correcta
/crear-mcp-prp prp_fullstack_base --thinkhard --persona-architect --c7 --seq --plan

# Par√°metros
- template: prp_fullstack_base (sin .md)
- flags_recomendados: --thinkhard --persona-architect --c7 --seq --plan
- tiempo_estimado: 30-45 minutos
- resultado: PRP de 300-500 l√≠neas en PRPs/
```

#### **`/ejecutar-mcp-prp`** - Implementar PRP
```bash
# Sintaxis correcta
/ejecutar-mcp-prp nombre-del-prp-generado --persona-architect --ultrathink --plan

# Par√°metros
- prp_file: nombre del PRP generado (sin .md)
- flags_recomendados: --persona-architect --ultrathink --plan --dry-run
- tiempo_estimado: 6-10 horas total
- resultado: Directorio mcp-fullstack-developer/ completo
```

#### **`/sync-knowledge`** - Sincronizar Knowledge Base
```bash
# Validar coherencia
/sync-knowledge validate --persona-analyzer --seq

# Actualizar conocimiento
/sync-knowledge update --persona-analyzer

# Sincronizaci√≥n completa
/sync-knowledge full --persona-analyzer --seq --c7
```

#### **`/crawl-context7`** - Actualizar Documentaci√≥n
```bash
/crawl-context7 --c7 --think --persona-analyzer
```

#### **`/refine-framework`** - Optimizar Patrones
```bash
/refine-framework --persona-refactorer --iterate --improve
```

### **Comandos SuperClaude Core**

#### **An√°lisis y Investigaci√≥n**
```bash
/analyze --code --arch --security --c7 --seq
/troubleshoot --investigate --seq --evidence --persona-analyzer
/scan --security --owasp --deps --validate --persona-security
```

#### **Desarrollo y Construcci√≥n**
```bash
/build --init --feature --react --api --magic --tdd
/design --api --ddd --microservices --seq --ultrathink
/test --coverage --e2e --pup --validate
```

#### **Calidad y Optimizaci√≥n**
```bash
/improve --quality --performance --security --iterate
/cleanup --code --all --dry-run
/deploy --env --validate --monitor --checkpoint
```

## üé≠ **Personas SuperClaude Aplicadas al MCP**

### **Fase de Arquitectura y Planificaci√≥n**
```yaml
Persona: --persona-architect
Especializaci√≥n: "Dise√±o de sistemas, arquitectura, decisiones tecnol√≥gicas"
Comandos_Principales:
  - "/crear-mcp-prp prp_fullstack_base --thinkhard --persona-architect"
  - "/design --api --seq --ultrathink --persona-architect" 
  - "/analyze --arch --seq --persona-architect"
Flags_Recomendados: ["--ultrathink", "--seq", "--c7", "--plan"]
Cu√°ndo_Usar: "Parseo de PRPs, dise√±o de arquitectura, decisiones t√©cnicas complejas"
MCPs_Sugeridos: "Sequential para an√°lisis profundo, Context7 para patrones actuales"
```

### **Fase de Backend y APIs**
```yaml
Persona: --persona-backend
Especializaci√≥n: "APIs, bases de datos, l√≥gica de negocio, escalabilidad"
Comandos_Principales:
  - "/build --api --persona-backend --security --seq"
  - "/design --database --persona-backend --seq"
  - "/test --api --coverage --persona-backend"
Flags_Recomendados: ["--seq", "--security", "--think", "--validate"]
Cu√°ndo_Usar: "Desarrollo de herramientas MCP, APIs Next.js, esquemas de BD"
MCPs_Sugeridos: "Sequential para l√≥gica compleja, Context7 para patterns de API"
```

### **Fase de Frontend y UI**
```yaml
Persona: --persona-frontend
Especializaci√≥n: "UI/UX, componentes React, accesibilidad"
Comandos_Principales:
  - "/build --react --persona-frontend --magic --c7"
  - "/design --ui --persona-frontend --magic"
  - "/improve --accessibility --persona-frontend --magic"
Flags_Recomendados: ["--magic", "--c7", "--think", "--validate"]
Cu√°ndo_Usar: "Generaci√≥n de componentes, interfaces de usuario, dashboards"
MCPs_Sugeridos: "Magic para componentes UI, Context7 para patterns React"
```

### **Fase de Testing y QA**
```yaml
Persona: --persona-qa
Especializaci√≥n: "Testing, aseguramiento de calidad, casos extremos"
Comandos_Principales:
  - "/test --coverage --persona-qa --pup --validate"
  - "/scan --validate --persona-qa --pup"
  - "/analyze --quality --persona-qa --coverage"
Flags_Recomendados: ["--coverage", "--pup", "--validate", "--think"]
Cu√°ndo_Usar: "Tests autom√°ticos, validaci√≥n E2E, quality gates"
MCPs_Sugeridos: "Puppeteer para testing E2E, Sequential para test strategies"
```

### **Fase de Seguridad y Auditor√≠a**
```yaml
Persona: --persona-security
Especializaci√≥n: "Seguridad, vulnerabilidades, compliance"
Comandos_Principales:
  - "/scan --security --persona-security --owasp"
  - "/analyze --security --persona-security --seq"
  - "/improve --security --persona-security"
Flags_Recomendados: ["--security", "--owasp", "--validate", "--seq"]
Cu√°ndo_Usar: "Auditor√≠as de seguridad, autenticaci√≥n, pol√≠ticas RLS"
MCPs_Sugeridos: "Sequential para an√°lisis de amenazas, Context7 para security patterns"
```

### **Fase de An√°lisis y Debugging**
```yaml
Persona: --persona-analyzer
Especializaci√≥n: "An√°lisis de causa ra√≠z, investigaci√≥n basada en evidencia"
Comandos_Principales:
  - "/troubleshoot --investigate --persona-analyzer --seq"
  - "/analyze --code --persona-analyzer --evidence"
  - "/sync-knowledge validate --persona-analyzer --seq"
Flags_Recomendados: ["--seq", "--investigate", "--evidence", "--think"]
Cu√°ndo_Usar: "Debugging problemas complejos, an√°lisis de knowledge base"
MCPs_Sugeridos: "Sequential para investigaci√≥n sistem√°tica, Context7 para research"
```

## ‚ö° **Flags Universales Cr√≠ticos**

### **Modos de Pensamiento**
```yaml
--think: 
  descripci√≥n: "An√°lisis multi-archivo (4K tokens)"
  cu√°ndo_usar: "Tareas est√°ndar de desarrollo"
  ejemplo: "/build --react --think"

--thinkhard:
  descripci√≥n: "An√°lisis arquitect√≥nico profundo (10K tokens)"
  cu√°ndo_usar: "Creaci√≥n de PRPs, dise√±o de arquitectura"
  ejemplo: "/crear-mcp-prp prp_fullstack_base --thinkhard"

--ultrathink:
  descripci√≥n: "Redise√±o de sistemas cr√≠ticos (32K tokens)"
  cu√°ndo_usar: "Arquitectura compleja, sistemas cr√≠ticos"
  ejemplo: "/ejecutar-mcp-prp nombre-prp --ultrathink"
```

### **Control de MCPs**
```yaml
--c7:
  descripci√≥n: "Habilitar Context7 para documentaci√≥n actualizada"
  cu√°ndo_usar: "Validar mejores pr√°cticas, research de patterns"
  ejemplo: "/crear-mcp-prp prp_fullstack_base --c7"

--seq:
  descripci√≥n: "Habilitar Sequential para an√°lisis paso a paso"
  cu√°ndo_usar: "An√°lisis complejo, debugging, arquitectura"
  ejemplo: "/analyze --arch --seq"

--magic:
  descripci√≥n: "Habilitar Magic para generaci√≥n de componentes UI"
  cu√°ndo_usar: "Desarrollo frontend, componentes React"
  ejemplo: "/build --react --magic"

--pup:
  descripci√≥n: "Habilitar Puppeteer para testing E2E"
  cu√°ndo_usar: "Tests automatizados, validaci√≥n visual"
  ejemplo: "/test --e2e --pup"

--all-mcp:
  descripci√≥n: "Habilitar todos los MCPs disponibles"
  cu√°ndo_usar: "Tareas complejas que requieren m√∫ltiples capacidades"
  ejemplo: "/ejecutar-mcp-prp nombre-prp --all-mcp"
```

### **Planificaci√≥n y Control**
```yaml
--plan:
  descripci√≥n: "Mostrar plan de ejecuci√≥n antes de ejecutar"
  cu√°ndo_usar: "SIEMPRE recomendado para validar pasos"
  ejemplo: "/build --api --plan"

--dry-run:
  descripci√≥n: "Preview cambios sin ejecutar"
  cu√°ndo_usar: "Validar cambios antes de aplicar"
  ejemplo: "/ejecutar-mcp-prp nombre-prp --dry-run"

--interactive:
  descripci√≥n: "Proceso guiado paso a paso"
  cu√°ndo_usar: "Primeras implementaciones, aprendizaje"
  ejemplo: "/crear-mcp-prp prp_fullstack_base --interactive"
```

### **Calidad y Validaci√≥n**
```yaml
--coverage:
  descripci√≥n: "Cobertura de tests m√≠nima 80%"
  cu√°ndo_usar: "Testing, validaci√≥n de calidad"
  ejemplo: "/test --coverage"

--security:
  descripci√≥n: "Validaciones de seguridad OWASP"
  cu√°ndo_usar: "Auditor√≠as, desarrollo seguro"
  ejemplo: "/scan --security"

--validate:
  descripci√≥n: "Validaci√≥n de calidad integral"
  cu√°ndo_usar: "Quality gates, deployment checks"
  ejemplo: "/deploy --validate"
```

## üîÑ **Flujo Secuencial Recomendado**

### **Fase 0: Validaci√≥n Prerequisites (15-30 min) - OBLIGATORIO**
```bash
# 1. Validar configuraci√≥n completa
/analyze --config --persona-architect --validate --interactive

# 2. Test de conectividad a servicios
/test --connectivity --persona-analyzer --validate

# 3. Setup guiado si hay problemas
/build --setup --persona-architect --interactive --plan
```

**Criterios obligatorios para continuar**:
- ‚úÖ GitHub OAuth App configurada y accesible
- ‚úÖ Supabase project respondiendo con pgvector habilitado
- ‚úÖ Neo4j database conectada (local o cloud)
- ‚úÖ OpenAI API Key v√°lida con cr√©ditos disponibles
- ‚úÖ Anthropic API Key v√°lida con cr√©ditos disponibles
- ‚úÖ Variables de entorno con formato correcto

### **Fase 1: Preparaci√≥n y Planificaci√≥n (45-60 min)**
```bash
# 1. Validar knowledge base (solo si Fase 0 completada)
/sync-knowledge validate --persona-analyzer --seq

# 2. Crear PRP integral
/crear-mcp-prp prp_fullstack_base \
  --thinkhard \
  --persona-architect \
  --c7 \
  --seq \
  --plan \
  --interactive

# 3. Validar PRP generado
/analyze --code nombre-del-prp-generado --persona-architect --plan
```

### **Fase 2: Foundation y Arquitectura (90-120 min)**
```bash
# 1. Implementar estructura base
/ejecutar-mcp-prp nombre-del-prp-generado \
  --persona-architect \
  --ultrathink \
  --plan \
  --dry-run

# 2. Validar foundation
/analyze --arch --persona-architect --seq --validate

# 3. Setup inicial completo
/build --init \
  --persona-architect \
  --seq \
  --c7 \
  --plan
```

### **Fase 3: Backend y Herramientas MCP (180-240 min)**
```bash
# 1. Dise√±ar arquitectura de herramientas
/design --api \
  --persona-backend \
  --seq \
  --ultrathink \
  --plan

# 2. Implementar herramientas MCP
/build --api \
  --persona-backend \
  --seq \
  --security \
  --think \
  --plan

# 3. Validar herramientas
/test --api \
  --persona-qa \
  --coverage \
  --validate
```

### **Fase 4: Frontend y UI (120-180 min)**
```bash
# 1. Dise√±ar sistema de componentes
/design --ui \
  --persona-frontend \
  --magic \
  --c7 \
  --plan

# 2. Implementar componentes
/build --react \
  --persona-frontend \
  --magic \
  --c7 \
  --think \
  --plan

# 3. Validar accesibilidad y rendimiento
/improve --accessibility \
  --persona-frontend \
  --magic \
  --validate
```

### **Fase 5: Testing Integral (90-120 min)**
```bash
# 1. Tests unitarios y de integraci√≥n
/test --coverage \
  --persona-qa \
  --validate \
  --plan

# 2. Tests E2E
/test --e2e \
  --persona-qa \
  --pup \
  --validate

# 3. Validaci√≥n de calidad completa
/scan --validate \
  --persona-qa \
  --security \
  --coverage
```

### **Fase 6: Seguridad y Deployment (60-90 min)**
```bash
# 1. Auditor√≠a de seguridad
/scan --security \
  --persona-security \
  --owasp \
  --validate

# 2. Preparar deployment
/deploy --env \
  --persona-architect \
  --validate \
  --plan \
  --dry-run

# 3. Sincronizaci√≥n final del knowledge base
/sync-knowledge full \
  --persona-analyzer \
  --seq \
  --c7
```

## üìä **Criterios de Validaci√≥n por Fase**

### **Validaci√≥n de PRP**
```yaml
Comando: "/analyze --code nombre-prp --persona-architect --plan"
Criterios_M√≠nimos:
  - ‚úÖ PRP incluye referencias espec√≠ficas a ejemplos/
  - ‚úÖ Plan de implementaci√≥n >10 tareas detalladas
  - ‚úÖ Referencias Context7 est√°n actualizadas
  - ‚úÖ Herramientas MCP especificadas (14+)
  - ‚úÖ Arquitectura t√©cnica completa definida
Score_M√≠nimo: 90/100
```

### **Validaci√≥n Foundation**
```yaml
Comando: "/analyze --arch --validate --persona-architect"
Criterios_M√≠nimos:
  - ‚úÖ Estructura directorios sigue CLAUDE.md
  - ‚úÖ TypeScript config estricto configurado
  - ‚úÖ Dependencias MCP instaladas correctamente
  - ‚úÖ Variables de entorno definidas
  - ‚úÖ Git repository inicializado correctamente
Score_M√≠nimo: 95/100
```

### **Validaci√≥n Backend**
```yaml
Comando: "/test --api --coverage --persona-qa"
Criterios_M√≠nimos:
  - ‚úÖ 14+ herramientas MCP responden correctamente
  - ‚úÖ Autenticaci√≥n GitHub OAuth funciona
  - ‚úÖ Base de datos conexiones establecidas
  - ‚úÖ APIs Next.js generan responses v√°lidas
  - ‚úÖ Coverage backend ‚â•80%
Score_M√≠nimo: 85/100
```

### **Validaci√≥n Frontend**
```yaml
Comando: "/test --e2e --pup --validate --persona-qa"
Criterios_M√≠nimos:
  - ‚úÖ Componentes renderan sin errores
  - ‚úÖ Formularios validan correctamente
  - ‚úÖ Accessibility score ‚â•95 (WCAG 2.1 AA)
  - ‚úÖ Performance Lighthouse ‚â•90
  - ‚úÖ Responsive design funciona
Score_M√≠nimo: 85/100
```

### **Validaci√≥n Seguridad**
```yaml
Comando: "/scan --security --owasp --persona-security"
Criterios_M√≠nimos:
  - ‚úÖ Sin vulnerabilidades cr√≠ticas o altas
  - ‚úÖ Autenticaci√≥n y autorizaci√≥n robustas
  - ‚úÖ Pol√≠ticas RLS configuradas correctamente
  - ‚úÖ Rate limiting implementado
  - ‚úÖ Input validation en todas las APIs
Score_M√≠nimo: 90/100
```

### **Validaci√≥n Final**
```yaml
Comando: "/deploy --validate --persona-architect --dry-run"
Criterios_M√≠nimos:
  - ‚úÖ MCP Inspector valida servidor sin errores
  - ‚úÖ Tests E2E completos pasan 100%
  - ‚úÖ Aplicaci√≥n funciona end-to-end
  - ‚úÖ Performance y seguridad optimizadas
  - ‚úÖ Documentaci√≥n auto-generada completa
Score_M√≠nimo: 90/100
```

## üö® **Troubleshooting y Resoluci√≥n de Problemas**

### **Problema: PRP Incompleto o Gen√©rico**
```yaml
S√≠ntomas:
  - PRP generado <200 l√≠neas
  - Referencias gen√©ricas sin paths espec√≠ficos
  - Falta contexto de ejemplos locales
Soluci√≥n:
  comando: "/crear-mcp-prp prp_fullstack_base --thinkhard --c7 --persona-architect --depth=5 --interactive"
  verificaci√≥n: "/analyze --code nombre-prp --persona-architect --validate"
```

### **Problema: Foundation Incompleta**
```yaml
S√≠ntomas:
  - Estructura directorios incorrecta
  - Dependencias faltantes o incorrectas
  - Configuraci√≥n TypeScript no estricta
Soluci√≥n:
  an√°lisis: "/analyze --arch --persona-architect --seq --investigate"
  correcci√≥n: "/build --init --force --persona-architect --plan"
  validaci√≥n: "/test --validate --dry-run"
```

### **Problema: Herramientas MCP No Responden**
```yaml
S√≠ntomas:
  - MCP Inspector reporta errores
  - Herramientas no registradas correctamente
  - Problemas de conexi√≥n con Claude
Soluci√≥n:
  investigaci√≥n: "/troubleshoot --investigate --persona-analyzer --seq"
  correcci√≥n: "/build --api --force --persona-backend --seq"
  validaci√≥n: "/scan --validate --persona-security"
```

### **Problema: Tests Fallando**
```yaml
S√≠ntomas:
  - Coverage <80%
  - Tests E2E fallan
  - Errores de renderizado
Soluci√≥n:
  an√°lisis: "/troubleshoot --investigate --persona-qa --pup --seq"
  correcci√≥n: "/test --coverage --force --persona-qa --pup"
  validaci√≥n: "/improve --quality --persona-qa --validate"
```

### **Problema: Performance Issues**
```yaml
S√≠ntomas:
  - Lighthouse score <90
  - Respuestas lentas de APIs
  - Bundle size excesivo
Soluci√≥n:
  an√°lisis: "/analyze --performance --persona-performance --seq"
  optimizaci√≥n: "/improve --performance --persona-performance --iterate"
  validaci√≥n: "/test --performance --pup --validate"
```

### **Problema: Prerequisites No Configurados**
```yaml
S√≠ntomas:
  - Comandos fallan con errores de conexi√≥n
  - Variables de entorno no encontradas
  - APIs retornan errores de autenticaci√≥n
Soluci√≥n:
  diagn√≥stico: "/analyze --config --persona-architect --validate --interactive"
  setup_guiado: "/build --setup --persona-architect --interactive --plan"
  verificaci√≥n: "/test --connectivity --persona-analyzer --validate"
```

### **Problema: GitHub OAuth Issues**
```yaml
S√≠ntomas:
  - Error "invalid_client" en autenticaci√≥n
  - Callback URL mismatch
  - Scopes insuficientes
Soluci√≥n:
  verificaci√≥n: "/analyze --auth --persona-security --validate"
  reconfiguraci√≥n: "/build --oauth --persona-security --interactive"
  documentaci√≥n: "Consultar PRPs/ai_docs/setup_prerequisites_guide.md"
```

### **Problema: Database Connectivity**
```yaml
S√≠ntomas:
  - Supabase connection timeout
  - Neo4j authentication failed
  - pgvector extension not found
Soluci√≥n:
  diagn√≥stico: "/troubleshoot --database --persona-analyzer --seq --investigate"
  correcci√≥n: "/build --database --persona-backend --force --interactive"
  validaci√≥n: "/test --database --persona-backend --validate"
```

### **Problema: API Keys Inv√°lidas**
```yaml
S√≠ntomas:
  - OpenAI/Anthropic API errors
  - Rate limits excedidos
  - Billing issues
Soluci√≥n:
  verificaci√≥n: "/analyze --apikeys --persona-analyzer --validate"
  renovaci√≥n: "/build --apikeys --persona-architect --interactive"
  monitoreo: "/analyze --usage --persona-analyzer --seq"
```

## üîÑ **Comandos de Sincronizaci√≥n y Mantenimiento**

### **Sincronizaci√≥n Regular**
```bash
# Diaria - validaci√≥n r√°pida
/sync-knowledge validate --persona-analyzer --quick

# Semanal - actualizaci√≥n incremental  
/sync-knowledge update --persona-analyzer --c7

# Mensual - sincronizaci√≥n completa
/sync-knowledge full --persona-analyzer --seq --c7 --deep
```

### **Crawling Context7 Especializado**
```bash
# Actualizar patterns espec√≠ficos
/crawl-context7 --domains="nextjs.org,supabase.com,prisma.io" --c7 --think

# Verificar breaking changes
/crawl-context7 --check-breaking --c7 --persona-analyzer

# Actualizaci√≥n completa documentaci√≥n
/crawl-context7 --full --c7 --seq --persona-analyzer
```

### **Refinamiento de Framework**
```bash
# Optimizar patterns existentes
/refine-framework --patterns --persona-refactorer --iterate

# Detectar c√≥digo obsoleto
/refine-framework --cleanup --persona-refactorer --analyze

# Mejorar performance general
/refine-framework --performance --persona-performance --optimize
```

## üìà **KPIs y M√©tricas de √âxito**

### **M√©tricas de Desarrollo**
```yaml
Tiempo_Total_Desarrollo: "6-10 horas (reducci√≥n 80% vs tradicional)"
Calidad_C√≥digo: "Score ‚â•90/100 en todas las fases"
Coverage_Tests: "‚â•80% autom√°tico"
Performance: "Lighthouse ‚â•90"
Security: "Sin vulnerabilidades cr√≠ticas/altas"
```

### **M√©tricas de Knowledge Base**
```yaml
Coherencia_General: ">90% (cr√≠tico: <80%)"
Freshness_Embeddings: ">85% (warning: <70%)"
Coverage_Knowledge_Graph: ">95% (target: 100%)"
Context7_Alignment: ">80% (informativo)"
```

### **M√©tricas de Funcionalidad MCP**
```yaml
Herramientas_MCP_Funcionales: "14+ todas respondiendo"
MCP_Inspector_Validation: "100% sin errores"
Claude_Desktop_Integration: "Conecta sin problemas"
Generaci√≥n_Aplicaciones: "End-to-end funcional"
```

---

**Resultado**: Una gu√≠a completa que transforma el desarrollo del Servidor MCP de un proceso complejo a un workflow estructurado y predecible, usando SuperClaude de manera √≥ptima para lograr resultados de calidad empresarial en tiempo r√©cord.